(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(4),u=n.n(r),c=n(18),i=n.n(c),a=(n(31),n(32),n(19)),s=n(20),o=n(26),d=n(24),l=Object(r.createContext)(),b=n(2),p=n(5),f=Object(b.b)("api/callBegan"),g=Object(b.b)("api/callSuccess"),j=Object(b.b)("api/callFailed"),h=n(8),v=n.n(h),y=Object(b.c)({name:"bugs",initialState:{list:[],loading:!1,lastFetch:null},reducers:{bugsRequested:function(e,t){e.loading=!0},bugsReceived:function(e,t){e.list=t.payload,e.loading=!1,e.lastFetch=Date.now()},bugsRequestFailed:function(e,t){e.loading=!1},bugAssignedToUser:function(e,t){var n=t.payload,r=n.id,u=n.userId,c=e.list.findIndex((function(e){return e.id===r}));e.list[c].userId=u},bugAdded:function(e,t){e.list.push(t.payload)},bugResolved:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list[n].resolved=!0}}}),O=y.actions,m=(O.bugAdded,O.bugResolved,O.bugAssignedToUser,O.bugsReceived),x=O.bugsRequested,S=O.bugsRequestFailed,F=y.reducer,A="/bugs",R=(Object(p.a)((function(e){return e.entities.bugs}),(function(e){return e.entities.projects}),(function(e,t){return e.list.filter((function(e){return!e.resolved}))})),n(3)),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return(e=t.call.apply(t,[this].concat(u))).state={bugs:[]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubscribe=t.subscribe((function(){var n=t.getState().entities.bugs.list;e.state.bugs!==n&&e.setState({bugs:n})})),t.dispatch((function(e,t){var n=t().entities.bugs.lastFetch;if(!(v()().diff(v()(n),"minutes")<10))return e(f({url:A,onStart:x.type,onSuccess:m.type,onError:S.type}))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return Object(R.jsx)("ul",{children:this.state.bugs.map((function(e){return Object(R.jsx)("li",{children:e.description},e.id)}))})}}]),n}(r.Component);k.contextType=l;var w=k,I=n(25),T=n(1),q=0,C=Object(b.c)({name:"projects",initialState:[],reducers:{projectAdded:function(e,t){e.push({id:++q,name:t.payload.name})}}}),L=(C.actions.projectAdded,C.reducer),U=0,B=Object(b.c)({name:"users",initialState:[],reducers:{userAdded:function(e,t){e.push({id:++U,name:t.payload.name})}}}),D=(B.actions.userAdded,B.reducer),E=Object(T.b)({bugs:F,projects:L,users:D}),P=Object(T.b)({entities:E}),J=function(e){return function(t){return function(t){return function(n){return console.log("Logging",e),t(n)}}}},M=function(e){return function(e){return function(t){if("error"!==t.type)return e(t);console.log("Toastify",t.payload.message)}}},W=n(9),z=n.n(W),G=n(22),H=n(23),K=n.n(H),N=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(G.a)(z.a.mark((function n(r){var u,c,i,a,s,o,d,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===f.type){n.next=2;break}return n.abrupt("return",e(r));case 2:return u=r.payload,c=u.url,i=u.method,a=u.data,s=u.onStart,o=u.onSuccess,d=u.onError,s&&t({type:s}),e(r),n.prev=5,n.next=8,K.a.request({baseURL:"http://localhost:3000/api",url:c,method:i,data:a});case 8:l=n.sent,t(g(l.data)),o&&t({type:o,payload:l.data}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),t(j(n.t0.message)),d&&t({type:d,payload:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}()}},Q=function(){return Object(b.a)({reducer:P,middleware:[].concat(Object(I.a)(Object(b.d)()),[J({destination:"console"}),M,N])})}();var V=function(){return Object(R.jsx)(l.Provider,{value:Q,children:Object(R.jsx)(w,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,r=t.getFID,u=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),u(e),c(e),i(e)}))};i.a.render(Object(R.jsx)(u.a.StrictMode,{children:Object(R.jsx)(V,{})}),document.getElementById("root")),X()}},[[56,1,2]]]);
//# sourceMappingURL=main.2ed75ff9.chunk.js.map